<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë§ˆìŒ í•œì” - ê¹Šì€ ëŒ€í™”</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;500;700&display=swap');

        body {
            margin: 0; padding: 0;
            display: flex; justify-content: center; align-items: center;
            min-height: 100vh;
            background: linear-gradient(180deg, #fdfbfb 0%, #ebedee 100%);
            font-family: 'Noto Sans KR', sans-serif;
            color: #4e342e;
        }

        .container {
            width: 90%; max-width: 480px;
            background: rgba(255, 255, 255, 0.95);
            padding: 40px; border-radius: 40px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.08);
            text-align: center;
        }

        #loginSection { margin-bottom: 20px; }
        .input-field { padding: 12px; border: 1px solid #d7ccc8; border-radius: 10px; width: 70%; margin-bottom: 10px; outline: none; }

        #mainContent { display: none; }

        h1 { font-size: 1.8rem; margin-bottom: 8px; color: #6d4c41; font-weight: 700; }
        .subtitle { font-size: 0.95rem; color: #8d6e63; margin-bottom: 20px; }

        .tea-selector { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; margin-bottom: 20px; }
        .tea-option { cursor: pointer; padding: 10px; border: 1px solid #d7ccc8; border-radius: 15px; font-size: 0.8rem; background: white; transition: 0.3s; }
        .tea-option.active { background-color: #8d6e63; color: white; border-color: #8d6e63; }

        textarea { width: 100%; height: 120px; padding: 18px; border: 1px solid #d7ccc8; border-radius: 20px; resize: none; box-sizing: border-box; outline: none; background-color: #fcfaf9; font-size: 1rem; line-height: 1.6; }

        button { margin-top: 15px; padding: 14px 40px; border: none; border-radius: 35px; background: #8d6e63; color: white; cursor: pointer; font-weight: 500; transition: 0.3s; }

        #resultSection {
            margin-top: 25px; padding: 25px; background: #fdfaf9; border-radius: 20px;
            border: 1px solid #efebe9; display: none; text-align: left; animation: fadeIn 0.8s ease-out;
        }
        .comfort-text { color: #5d4037; font-weight: 500; margin-bottom: 15px; line-height: 1.6; }
        .ask-more { color: #8d6e63; font-size: 0.9rem; border-top: 1px solid #eee; padding-top: 15px; }
        .btn-small { padding: 8px 15px; font-size: 0.8rem; margin-top: 10px; background: #a1887f; border: none; border-radius: 15px; color: white; cursor: pointer; }
        
        #deepQuestion { margin-top: 15px; padding: 18px; background: #fff; border-radius: 10px; border-left: 4px solid #8d6e63; color: #4e342e; display: none; font-weight: 500; line-height: 1.6; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

    <div class="container">
        <div id="loginSection">
            <h1>ë§ˆìŒ í•œì”</h1>
            <p class="subtitle">ì˜¤ì…¨ë‚˜ìš”? ë‹¹ì‹ ì˜ ì´ë¦„ì„ ì•Œë ¤ì£¼ì„¸ìš”.</p>
            <input type="text" id="userName" class="input-field" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”">
            <br>
            <button onclick="login()">ì…ì¥í•˜ê¸°</button>
        </div>

        <div id="mainContent">
            <h1 id="welcomeMsg">í™˜ì˜í•©ë‹ˆë‹¤</h1>
            <p class="subtitle">ì˜¤ëŠ˜ ë‹¹ì‹ ì˜ ë§ˆìŒì„ ì±„ì›Œì¤„ ì°¨ë¥¼ ê³¨ë¼ë³´ì„¸ìš”.</p>

            <div class="tea-selector">
                <div class="tea-option active" onclick="selectTea('ë…¹ì°¨', this)">ë…¹ì°¨</div>
                <div class="tea-option" onclick="selectTea('í™ì°¨', this)">í™ì°¨</div>
                <div class="tea-option" onclick="selectTea('í—ˆë¸Œì°¨', this)">í—ˆë¸Œì°¨</div>
                <div class="tea-option" onclick="selectTea('ìœ ìì°¨', this)">ìœ ìì°¨</div>
                <div class="tea-option" onclick="selectTea('ë³´ë¦¬ì°¨', this)">ë³´ë¦¬ì°¨</div>
                <div class="tea-option" onclick="selectTea('ì½”ì½”ì•„', this)">ì½”ì½”ì•„</div>
            </div>

            <textarea id="userInput" placeholder="ëˆ„êµ¬ì—ê²Œë„ í•˜ì§€ ëª»í•œ ë§ì„ ì´ê³³ì— ë‚¨ê²¨ë³´ì„¸ìš”..."></textarea>
            <button onclick="provideComfort()">ë§ˆìŒ ë‚˜ëˆ„ê¸°</button>

            <div id="resultSection">
                <div id="comfortOutput" class="comfort-text"></div>
                <div id="questionWrapper" class="ask-more">
                    ì§€ê¸ˆ ê·¸ ë§ˆìŒ... <strong>ë” ìì„¸íˆ ë¬¼ì–´ë´ë„ ê´œì°®ì„ê¹Œìš”?</strong><br>
                    <button class="btn-small" onclick="askDeepQuestion()">ë„¤, ì´ì•¼ê¸°í• ë˜ìš”</button>
                </div>
                <div id="deepQuestion"></div>
            </div>
        </div>
    </div>

    <script>
        let currentUser = "";
        let selectedTea = "ë…¹ì°¨";

        // í‚¤ì›Œë“œë³„ ë§ì¶¤ ì„±ì°° ì§ˆë¬¸ ë°ì´í„°
        const questionBank = {
            people: [ // ì‚¬ëŒ, ì¹œêµ¬, ìƒì‚¬, ê°€ì¡± ê´€ë ¨
                "ê·¸ ê´€ê³„ì—ì„œ ë‹¹ì‹ ì´ ê°€ì¥ ì§€í‚¤ê³  ì‹¶ì—ˆë˜ ë§ˆìŒì€ ë¬´ì—‡ì´ì—ˆë‚˜ìš”?",
                "ìƒëŒ€ë°©ì˜ ë§ ì¤‘ ì–´ë–¤ ë¶€ë¶„ì´ ë‹¹ì‹ ì˜ ë§ˆìŒì„ ê°€ì¥ ì•„í”„ê²Œ ì°”ë €ë‚˜ìš”?",
                "í˜¹ì‹œ ê·¸ ì‚¬ëŒì—ê²Œ ê¼­ í•˜ê³  ì‹¶ì—ˆì§€ë§Œ ê°€ìŠ´ì†ì— ë¬»ì–´ë‘” ë§ì´ ìˆì„ê¹Œìš”?"
            ],
            work: [ // ì¼, ê³µë¶€, ì‹œí—˜, ì„±ê³µ ê´€ë ¨
                "ë‹¹ì‹ ì„ ê°€ì¥ ì§€ì¹˜ê²Œ í•˜ëŠ” ê±´ 'í•´ì•¼ í•  ì¼'ì¸ê°€ìš”, ì•„ë‹ˆë©´ 'ì˜í•´ì•¼ í•œë‹¤ëŠ” ì••ë°•'ì¸ê°€ìš”?",
                "ì§€ê¸ˆì˜ ì´ ë…¸ë ¥ì´ ë‹¹ì‹ ì´ ì§„ì‹¬ìœ¼ë¡œ ì›í•˜ëŠ” ë¯¸ë˜ì™€ ë§ë‹¿ì•„ ìˆë‚˜ìš”?",
                "ì ì‹œ ë©ˆì¶˜ë‹¤ë©´, ë‹¹ì‹ ì˜ ì‚¶ì—ì„œ ë¬´ì—‡ì´ ë¬´ë„ˆì§ˆê¹Œ ë´ ê°€ì¥ ë‘ë ¤ìš°ì‹ ê°€ìš”?"
            ],
            self: [ // ë‚˜, ì„±ê²©, ìì±…, ìš°ìš¸ ê´€ë ¨
                "ìŠ¤ìŠ¤ë¡œì—ê²Œ ë„ˆë¬´ ì—„ê²©í•œ ì£ëŒ€ë¥¼ ëŒ€ê³  ìˆëŠ” ê²ƒì€ ì•„ë‹ê¹Œìš”?",
                "ì˜¤ëŠ˜ í•˜ë£¨ ì¤‘ ì•„ì£¼ ì§§ê²Œë¼ë„ ë‹¹ì‹ ì´ ìŠ¤ìŠ¤ë¡œë¥¼ ëŒ€ê²¬í•˜ê²Œ ì—¬ê²¼ë˜ ìˆœê°„ì´ ìˆì—ˆë‚˜ìš”?",
                "ë‹¹ì‹ ì„ í˜ë“¤ê²Œ í•˜ëŠ” ê·¸ ìƒê°ì€ 'ì‚¬ì‹¤'ì¸ê°€ìš”, ì•„ë‹ˆë©´ ë§ˆìŒì´ ë§Œë“¤ì–´ë‚¸ 'ê±±ì •'ì¸ê°€ìš”?"
            ],
            general: [ // ê¸°ë³¸ ì§ˆë¬¸
                "ê·¸ ì¼ì´ ë‹¹ì‹ ì˜ ì¼ìƒì„ ì–¼ë§ˆë‚˜ ì°¨ì§€í•˜ê³  ìˆë‚˜ìš”?",
                "ì´ ê³ ë¯¼ì˜ ë¿Œë¦¬ë¥¼ ë”°ë¼ê°€ë©´, ì–´ë–¤ ê°ì •ì´ ê°€ì¥ ë¨¼ì € ë‚˜íƒ€ë‚˜ë‚˜ìš”?",
                "ì§€ê¸ˆ ê°€ì¥ í•„ìš”í•œ ê±´ í•´ê²°ì±…ì¼ê¹Œìš”, ì•„ë‹ˆë©´ ì˜¨ì „í•œ íœ´ì‹ì¼ê¹Œìš”?"
            ]
        };

        function login() {
            const name = document.getElementById('userName').value;
            if (!name) return alert("ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");
            currentUser = name;
            document.getElementById('loginSection').style.display = 'none';
            document.getElementById('mainContent').style.display = 'block';
            document.getElementById('welcomeMsg').innerText = `${name}ë‹˜ì˜ ë§ˆìŒ í•œì”`;
        }

        function selectTea(name, el) {
            selectedTea = name;
            document.querySelectorAll('.tea-option').forEach(opt => opt.classList.remove('active'));
            el.classList.add('active');
        }

        function provideComfort() {
            const input = document.getElementById('userInput').value;
            if (!input) return alert("ë‹¹ì‹ ì˜ ë§ˆìŒì„ í•œ ë§ˆë””ë§Œ ë“¤ë ¤ì£¼ì„¸ìš”.");

            const resultSection = document.getElementById('resultSection');
            const comfortOutput = document.getElementById('comfortOutput');
            const deepQuestionDiv = document.getElementById('deepQuestion');

            deepQuestionDiv.style.display = 'none';
            comfortOutput.innerText = `ë”°ëœ»í•œ ${selectedTea} í•œ ì”ì„ ê±´ë„µë‹ˆë‹¤. ë‹¹ì‹ ì˜ ê¸€ì—ì„œ ê·¸ë™ì•ˆ ì–¼ë§ˆë‚˜ ì°¸ì•„ì™”ì„ì§€, ì–¼ë§ˆë‚˜ ì¹˜ì—´í•˜ê²Œ ê³ ë¯¼í–ˆì„ì§€ê°€ ëŠê»´ì ¸ìš”. í˜¼ìì„œ ì§Šì–´ì§€ëŠë¼ ì •ë§ ì• ì“°ì…¨ìŠµë‹ˆë‹¤.`;
            resultSection.style.display = 'block';
        }

        function askDeepQuestion() {
            const input = document.getElementById('userInput').value;
            const deepQuestionDiv = document.getElementById('deepQuestion');
            let category = "general";

            // ê°„ë‹¨í•œ í‚¤ì›Œë“œ ë§¤ì¹­ ë¡œì§
            if (input.match(/ì‚¬ëŒ|ì¹œêµ¬|ìƒì‚¬|ë™ë£Œ|ê°€ì¡±|ì—„ë§ˆ|ì•„ë¹ |ë§|ê´€ê³„/)) category = "people";
            else if (input.match(/ì¼|ê³µë¶€|ì‹œí—˜|ì„±ì |ì·¨ì—…|íšŒì‚¬|ì„±ê³µ|ê³¼ì œ/)) category = "work";
            else if (input.match(/ë‚˜|ë‚´|ìì‹ |ì„±ê²©|ìì±…|í›„íšŒ|ë°”ë³´/)) category = "self";

            const selectedQuestions = questionBank[category];
            const randomIndex = Math.floor(Math.random() * selectedQuestions.length);
            
            deepQuestionDiv.innerText = "ğŸ’¡ " + selectedQuestions[randomIndex];
            deepQuestionDiv.style.display = 'block';
            deepQuestionDiv.style.animation = 'fadeIn 0.5s ease-out';
        }
    </script>
</body>
</html>
